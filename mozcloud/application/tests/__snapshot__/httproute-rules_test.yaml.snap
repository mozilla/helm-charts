Configuration matches entire snapshot:
  1: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: Gateway
    metadata:
      annotations:
        networking.gke.io/certmap: mozcloud-test-nonprod-dev
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: header-only
    spec:
      addresses:
        - type: NamedAddress
          value: mozcloud-test-dev-ip-v4
      gatewayClassName: gke-l7-global-external-managed
      listeners:
        - allowedRoutes:
            namespaces:
              from: Same
          name: http
          port: 80
          protocol: HTTP
        - allowedRoutes:
            namespaces:
              from: Same
          name: https
          port: 443
          protocol: HTTPS
  2: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: Gateway
    metadata:
      annotations:
        networking.gke.io/certmap: mozcloud-test-nonprod-dev
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: headers-and-path
    spec:
      addresses:
        - type: NamedAddress
          value: mozcloud-test-dev-ip-v4
      gatewayClassName: gke-l7-global-external-managed
      listeners:
        - allowedRoutes:
            namespaces:
              from: Same
          name: http
          port: 80
          protocol: HTTP
        - allowedRoutes:
            namespaces:
              from: Same
          name: https
          port: 443
          protocol: HTTPS
  3: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: Gateway
    metadata:
      annotations:
        networking.gke.io/certmap: mozcloud-test-nonprod-dev
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: path-only
    spec:
      addresses:
        - type: NamedAddress
          value: mozcloud-test-dev-ip-v4
      gatewayClassName: gke-l7-global-external-managed
      listeners:
        - allowedRoutes:
            namespaces:
              from: Same
          name: http
          port: 80
          protocol: HTTP
        - allowedRoutes:
            namespaces:
              from: Same
          name: https
          port: 443
          protocol: HTTPS
  4: |
    apiVersion: networking.gke.io/v1
    kind: GCPGatewayPolicy
    metadata:
      labels:
        app.kubernetes.io/component: gateway
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: gateway
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: path-only
    spec:
      default:
        sslPolicy: mozilla-intermediate
      targetRef:
        group: gateway.networking.k8s.io
        kind: Gateway
        name: path-only
  5: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: header-only
    spec:
      hostnames:
        - header.only
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: header-only
          sectionName: https
      rules:
        - backendRefs:
            - group: ""
              kind: Service
              name: test-service
              port: 8080
          matches:
            - headers:
                - name: foo
                  value: bar
  6: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: header-only-http-redirect
    spec:
      hostnames:
        - header.only
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: header-only
          sectionName: http
      rules:
        - filters:
            - requestRedirect:
                scheme: https
                statusCode: 302
              type: RequestRedirect
          matches:
            - path:
                type: PathPrefix
                value: /
  7: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: headers-and-path
    spec:
      hostnames:
        - headers.and.path
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: headers-and-path
          sectionName: https
      rules:
        - backendRefs:
            - group: ""
              kind: Service
              name: test-service
              port: 8080
          matches:
            - headers:
                - name: foo
                  value: bar
                - name: baz
                  value: qux
              path:
                type: PathPrefix
                value: /foo
  8: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: headers-and-path-http-redirect
    spec:
      hostnames:
        - headers.and.path
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: headers-and-path
          sectionName: http
      rules:
        - filters:
            - requestRedirect:
                scheme: https
                statusCode: 302
              type: RequestRedirect
          matches:
            - path:
                type: PathPrefix
                value: /
  9: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: path-only
    spec:
      hostnames:
        - path.only
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: path-only
          sectionName: https
      rules:
        - backendRefs:
            - group: ""
              kind: Service
              name: test-service
              port: 8080
          matches:
            - path:
                type: PathPrefix
                value: /foo
  10: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: path-only-http-redirect
    spec:
      hostnames:
        - path.only
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: path-only
          sectionName: http
      rules:
        - filters:
            - requestRedirect:
                scheme: https
                statusCode: 302
              type: RequestRedirect
          matches:
            - path:
                type: PathPrefix
                value: /
  11: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      ports:
        - name: http
          port: 8080
          protocol: TCP
          targetPort: http
      selector:
        app.kubernetes.io/component: web
        app.kubernetes.io/name: mozcloud-test
        env_code: dev
      type: ClusterIP
  12: |
    apiVersion: networking.gke.io/v1
    kind: GCPBackendPolicy
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      default:
        logging:
          enabled: true
          sampleRate: 100000
      targetRef:
        group: ""
        kind: Service
        name: test-service
  13: |
    apiVersion: networking.gke.io/v1
    kind: HealthCheckPolicy
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      default:
        config:
          httpHealthCheck:
            requestPath: /__lbheartbeat__
          type: HTTP
      targetRef:
        group: ""
        kind: Service
        name: test-service
