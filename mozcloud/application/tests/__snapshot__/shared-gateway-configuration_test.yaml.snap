Configuration matches entire snapshot:
  1: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: shared-gateway-host
    spec:
      hostnames:
        - shared.test-domain.com
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: sandbox-high-preview-gateway
          namespace: preview-shared-infrastructure
          sectionName: https
      rules:
        - backendRefs:
            - group: ""
              kind: Service
              name: test-service
              port: 8080
  2: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: shared-gateway-host-http-redirect
    spec:
      hostnames:
        - shared.test-domain.com
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: sandbox-high-preview-gateway
          namespace: preview-shared-infrastructure
          sectionName: http
      rules:
        - filters:
            - requestRedirect:
                scheme: https
                statusCode: 302
              type: RequestRedirect
          matches:
            - path:
                type: PathPrefix
                value: /
  3: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      ports:
        - name: http
          port: 8080
          protocol: TCP
          targetPort: http
      selector:
        app.kubernetes.io/component: web
        app.kubernetes.io/name: mozcloud-test
        env_code: dev
      type: ClusterIP
  4: |
    apiVersion: networking.gke.io/v1
    kind: GCPBackendPolicy
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      default:
        logging:
          enabled: true
          sampleRate: 100000
      targetRef:
        group: ""
        kind: Service
        name: test-service
  5: |
    apiVersion: networking.gke.io/v1
    kind: HealthCheckPolicy
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      default:
        config:
          httpHealthCheck:
            requestPath: /__lbheartbeat__
          type: HTTP
      targetRef:
        group: ""
        kind: Service
        name: test-service
