Configuration matches entire snapshot:
  1: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: Gateway
    metadata:
      annotations:
        networking.gke.io/certmap: test-service-nonprod-dev
      labels:
        app.kubernetes.io/component: auth
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: auth
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: mozcloud-test-external
    spec:
      addresses:
        - type: NamedAddress
          value: mozcloud-dev-external-ip-v4
      gatewayClassName: gke-l7-global-external-managed
      listeners:
        - allowedRoutes:
            namespaces:
              from: Same
          name: http
          port: 80
          protocol: HTTP
        - allowedRoutes:
            namespaces:
              from: Same
          name: https
          port: 443
          protocol: HTTPS
  2: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: Gateway
    metadata:
      labels:
        app.kubernetes.io/component: auth
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: auth
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: mozcloud-test-internal
    spec:
      addresses:
        - type: NamedAddress
          value: mozcloud-dev-internal-ip-v4
      gatewayClassName: gke-l7-global-external-managed
      listeners:
        - allowedRoutes:
            namespaces:
              from: Same
          name: http
          port: 80
          protocol: HTTP
  3: |
    apiVersion: networking.gke.io/v1
    kind: GCPGatewayPolicy
    metadata:
      labels:
        app.kubernetes.io/component: gateway
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: gateway
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: mozcloud-test-external
    spec:
      default:
        sslPolicy: mozilla-intermediate
      targetRef:
        group: gateway.networking.k8s.io
        kind: Gateway
        name: mozcloud-test-external
  4: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: external-host
    spec:
      hostnames:
        - external.test-domain.com
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: mozcloud-test-external
          sectionName: https
      rules:
        - backendRefs:
            - group: ""
              kind: Service
              name: test-service
              port: 8080
  5: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: external-host-http-redirect
    spec:
      hostnames:
        - external.test-domain.com
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: mozcloud-test-external
          sectionName: http
      rules:
        - filters:
            - requestRedirect:
                scheme: https
                statusCode: 302
              type: RequestRedirect
          matches:
            - path:
                type: PathPrefix
                value: /
  6: |
    apiVersion: gateway.networking.k8s.io/v1
    kind: HTTPRoute
    metadata:
      labels:
        app.kubernetes.io/component: auth
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: auth
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: internal-host
    spec:
      hostnames:
        - internal.test-domain.local
      parentRefs:
        - group: gateway.networking.k8s.io
          kind: Gateway
          name: mozcloud-test-internal
          sectionName: http
      rules:
        - backendRefs:
            - group: ""
              kind: Service
              name: test-internal-service
              port: 8080
  7: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/component: auth
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: auth
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-internal-service
    spec:
      ports:
        - name: http
          port: 8080
          protocol: TCP
          targetPort: http
      selector:
        app.kubernetes.io/component: auth
        app.kubernetes.io/name: mozcloud-test
        env_code: dev
      type: ClusterIP
  8: |
    apiVersion: networking.gke.io/v1
    kind: GCPBackendPolicy
    metadata:
      labels:
        app.kubernetes.io/component: auth
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: auth
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-internal-service
    spec:
      default:
        logging:
          enabled: true
          sampleRate: 100000
      targetRef:
        group: ""
        kind: Service
        name: test-internal-service
  9: |
    apiVersion: networking.gke.io/v1
    kind: HealthCheckPolicy
    metadata:
      labels:
        app.kubernetes.io/component: auth
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: auth
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-internal-service
    spec:
      default:
        config:
          httpHealthCheck:
            requestPath: /__lbheartbeat__
          type: HTTP
      targetRef:
        group: ""
        kind: Service
        name: test-internal-service
  10: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      ports:
        - name: http
          port: 8080
          protocol: TCP
          targetPort: http
      selector:
        app.kubernetes.io/component: web
        app.kubernetes.io/name: mozcloud-test
        env_code: dev
      type: ClusterIP
  11: |
    apiVersion: networking.gke.io/v1
    kind: GCPBackendPolicy
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      default:
        logging:
          enabled: true
          sampleRate: 100000
      targetRef:
        group: ""
        kind: Service
        name: test-service
  12: |
    apiVersion: networking.gke.io/v1
    kind: HealthCheckPolicy
    metadata:
      labels:
        app.kubernetes.io/component: web
        app.kubernetes.io/managed-by: argocd
        app.kubernetes.io/name: mozcloud-test
        app_code: mozcloud-test
        component_code: web
        env_code: dev
        helm.sh/chart: test-chart
        mozcloud_chart: mozcloud
        mozcloud_chart_version: 1.0.0
        realm: nonprod
      name: test-service
    spec:
      default:
        config:
          httpHealthCheck:
            requestPath: /__lbheartbeat__
          type: HTTP
      targetRef:
        group: ""
        kind: Service
        name: test-service
